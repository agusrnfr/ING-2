<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <%- include ('header', {tituloweb: '¡Oh my dog! | Contacto trabajador'}); %>
</head>

<body>
    <body id="body">
        <div class="container h-100 mt-4" >
            <div class="row d-flex justify-content-center align-items-center h-100">
              <div class="col-lg-12 col-xl-7">
                <div class="card text-black" style="border-radius: 20px;">
                  <div class="card-body p-md-3">
                    <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Contactar Trabajador </p>
                    <div class="alert alert-info" role="alert" style="display: flex; justify-content: center; align-items: center; font-size: 20px;">
                        Datos del trabajador:&nbsp; <strong><%= trabajador.nombre %></strong>
                       </div>
  
                    <div class="row justify-content-center">
                      <div class="col-md-10 col-lg-5 col-xl-6 order-2 order-lg-1">


          <form id= "miForm"  action="/contactar/trabajador/<%= trabajador.id %>" method="POST">
      
              <div class="row mb-3">
      
                <label for="color">Nombre y Apellido: (*)</label>
                <div class="mb-3">
                  <input class="form-control form-control-user" 
                         type="text" 
                         name="nombre" 
                         id="nombre" 
                         placeholder="Ej: Juan Perez" 
                         value="<%= nombre %>"
                         <% if (session && session.usuario && session.loggedin) { %>
                         readonly style="background-color: #f2f2f2; opacity: 0.7; pointer-events: none;"
                         <% } %>
                         required>
                </div>

                <label for="color">Telefono: (*)</label>
                <div class="mb-3">
                  <input class="form-control form-control-user" 
                         name="telefono" 
                         type="number" 
                         id="telefono" 
                         min = 0
                         placeholder="Numero de telefono" 
                         value="<%= telefono %>"
                         required="">
                </div>
                
                <label for="color">Mail: (*)</label>
                <div class="mb-3">
                  <input class="form-control form-control-user" 
                         name="mail" 
                         type="email" 
                         id="mail" 
                         placeholder="Mail de contacto" 
                         value="<%= mail %>"
                         required="">
                </div>

                <label for="color">Servicio: (*)</label>
                <div class="mb-3">
                  <input class="form-control form-control-user" 
                         name="servicio" 
                         type= "text"
                         id="servicio" 
                         value="<%= trabajador.servicio %>"
                         readonly style="background-color: #f2f2f2; opacity: 0.7; pointer-events: none;"
                         required="">
                </div>

                <label for="color">Dias disponibles: (*)</label>
                <div class="mb-3">
                  <input class="form-control form-control-user" 
                         name="dias" 
                         type= "text"
                         id="dias" 
                         value="<%= trabajador.dias %>"
                         readonly style="background-color: #f2f2f2; opacity: 0.7; pointer-events: none;"
                         required="">
                </div>

                <label for="color">Horarios disponibles: (*)</label>
                <div class="mb-3">
                  <input class="form-control form-control-user" 
                         name="horario" 
                         type= "text"
                         id="horario" 
                         value="<%= trabajador.horario %>"
                         readonly style="background-color: #f2f2f2; opacity: 0.7; pointer-events: none;"
                         required="">
                </div>

                <label for="color">Fechas: (*) </label>
                <div class="mb-3">
                <textarea class="form-control form-control-user" name="fecha" id="fecha" 
                 placeholder="Fechas en que requiere el servicio " rows="5" cols="30"></textarea></div>

      
                 <span id="mensaje" style="color: black;"></span>
              </div>
              <button class="btn btn-primary d-block btn-user w-100" name="Ingresar" type="submit">Contactar trabajador</button>
      
          </div>
          <div class="col-md-10 col-lg-6 col-xl-6 d-flex align-items-center order-1 order-lg-2 justify-content-center">
              <img src="/img/trabajador2.jpg" width="330px">
          </div>
      
          <style>
              @media only screen and (max-width: 900px) {
                img {
                  display: none;
                }
                div {
                  display: block;
                }
              }
            </style>
      </div>
      <hr>
      </form>
      <div class="text-center mb-2" style="font-size: smaller;">Los campos con (*) son obligatorios</div>
      <div class="text-center"><a class="small" href="#" onclick="history.back(); return false;">Volver</a></div>
      </div>
      </div>
          </div>
      </div>
      </div>
      </div>
      <br><br>
      
   <script>
        const form = document.getElementById('miForm');
        form.addEventListener('submit', (event) => {
          const nombreyA = document.getElementById('nombre').value;
          const telefono = document.getElementById('telefono').value;
          const mail = document.getElementById('mail').value;
          const servicio = document.getElementById('servicio').value;
          const fecha = document.getElementById('fecha').value;
          const horario = document.getElementById('horario').value;
          const dias = document.getElementById('dias').value;

        
          if (!nombreyA || !telefono|| !mail || !servicio || !fecha || !horario) {
            event.preventDefault(); // Evita que se envíe el formulario
            const mensajeElemento = document.getElementById('mensaje');
            mensajeElemento.textContent = 'Por favor complete todos los campos solicitados.';
          }
        });
        
  </script>
       
</div>
      <%- include ('sweet-alert') %>
</body>

</html>
      